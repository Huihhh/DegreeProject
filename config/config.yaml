#TODO: add available choices
defaults:
  - dataset: sphere
  - init_methods@MODEL.fc_winit: normal_custom
  - init_methods@MODEL.fc_binit: default
  - init_methods@MODEL.bn_winit: ones
  - init_methods@MODEL.bn_binit: zeros

Logging:
  name: "LR"
  seed: ${DATASET.seed}

DATASET:
  fixed_valset: True

MODEL:
  seed: ${DATASET.seed}
  h_nodes: [16]
  out_dim: 1
  activation: 'relu' # or leakyRelU
  use_bn: False

EXPERIMENT:
  name: 'ToyExperiment'
  framework: lightning

  # wandb setting
  dryrun: False
  wandb_project: degree-project-lit

  # regularization
  wdecay: 0.001
  dis_reg: 0.00 # coefficient of distance reg term 
  reg_filter: composite_relu # or abs_relu, or sqrt_relu

  # optimizer
  optim_lr: 0.001
  optim_momentum: 0.9
  warmup: 0
  used_nesterov: True
  early_stop: False
  use_gpu: True
  ema_used: False
  ema_decay: 0.999

  TH: 0.5
  n_epoch: 1024
  debug: False # if debug, don't save checkpoints
  plot_avg_distance: True

  save_model: True
  save_every: 64
  out_folder: ${EXPERIMENT.name}_${DATASET.name}_${MODEL.fc_winit.name}_${MODEL.fc_binit.name}_${EXPERIMENT.TH_bounds}_seed${Logging.seed}_${now:%Y-%m-%d_%H-%M-%S} # log & tfevents under ./outputs, checkpoints under ./checkpoints

  resume: False
  resume_checkpoints: './checkpoints/ToyExperiment_epoch_0.pth.tar' # folder or file
  resumed_epochs: [0,1023]


hydra:
  run:
    dir: ./outputs/${EXPERIMENT.out_folder}
